<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/modernizr-2.6.2.js"></script>

    <!-- Favicon  -->
    <link rel="icon" href="~/Content/template/img/core-img/favicon.ico">

    <!-- Core Style CSS -->
    <link rel="stylesheet" href="~/Content/template/css/core-style.css">
    <link rel="stylesheet" href="~/Content/style.css">
</head>
<body>
    <div class="wrapper">
        <header class="header_area">
            <div class="classy-nav-container breakpoint-off d-flex align-items-center justify-content-between">
                <!-- Classy Menu -->
                <nav class="classy-navbar" id="essenceNav">
                    <!-- Logo -->
                    <a class="nav-brand" href="~/Home/Index"><img src="~/Images/logo.png" alt="" style="height:85px; width:auto;"></a>
                    <!-- Navbar Toggler -->
                    <div class="classy-navbar-toggler">
                        <span class="navbarToggler"><span></span><span></span><span></span></span>
                    </div>
                    <!-- Menu -->
                    <div class="classy-menu">
                        <!-- close btn -->
                        <div class="classycloseIcon">
                            <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                        </div>
                        <!-- Nav Start -->
                        <div class="classynav">
                            <ul>
                                <li>
                                    <a href="#">最新消息</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("MemberCenter", "FrontUserProfile")">會員中心</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("ProductFrontPage", "ProductFront")">商品介紹</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("List", "Forum")">討論區</a>
                                </li>
                            </ul>
                        </div>
                        <!-- Nav End -->
                    </div>
                </nav>

                <!-- Header Meta Data -->
                <div class="header-meta d-flex clearfix justify-content-end">
                    <!-- Search Area -->
                    <div class="search-area">
                        <div class="formfake">
                            <input type="search" name="search" id="searchprod" placeholder="商品名稱">
                            <button type="button" onclick="searchProd()"><i class="fa fa-search" aria-hidden="true"></i></button>
                        </div>

                    </div>
                    <!-- Favourite Area -->
                    <div class="favourite-area">
                        <a href="@Url.Action("List", "ProductFavorite")"><img src="~/Content/template/img/core-img/heart.svg" alt=""></a>
                    </div>
                    <!-- User Login Info -->
                    <div class="user-login-info">
                        <a href="@Url.Action("MemberCenter", "FrontUserProfile")"><img src="~/Content/template/img/core-img/user.svg" alt=""></a>
                    </div>
                    <!-- Cart Area -->
                    <div class="cart-area">
                        <a href="@Url.Action("viewCart", "ShoppingCart")" id="essenceCartBtn"><img src="~/Content/template/img/core-img/bag.svg" alt=""> <span id="totalQuantity"></span></a>
                    </div>
                    <div class="user-signup">
                        <a href="@Url.Action("New", "FrontUserProfile")"><img src="~/Images/Member/signup.png" height="85" width="85" alt=""></a>
                    </div>
                    <div class="user-logout">
                        <a href="@Url.Action("LogOut", "FrontUserProfile")"><img src="~/Images/Member/logout.jpg" height="85" width="85" alt=""></a>
                    </div>
                </div>

            </div>
        </header>


        <!--中間區塊-->
        <div id="content" style="min-height:800px; margin-top:150px">
            @RenderBody()
        </div>
    </div>

    <!-- ##### Footer Area Start ##### -->
    <footer class="footer_area clearfix">
        <div class="container">
            <div class="row">
                <!-- Single Widget Area -->
                <div class="col-12 col-md-6">
                    <div class="single_widget_area d-flex mb-30">
                        <!-- Logo -->
                        <div class="footer-logo mr-50">
                            <a href="#"><img src="img/core-img/logo2.png" alt=""></a>
                        </div>
                        <!-- Footer Menu -->
                        <div class="footer_menu">
                            <ul>
                                <li><a href="shop.html">Shop</a></li>
                                <li><a href="blog.html">Blog</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Single Widget Area -->
                <div class="col-12 col-md-6">
                    <div class="single_widget_area mb-30">
                        <ul class="footer_widget_menu">
                            <li><a href="#">Order Status</a></li>
                            <li><a href="#">Payment Options</a></li>
                            <li><a href="#">Shipping and Delivery</a></li>
                            <li><a href="#">Guides</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Terms of Use</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-md-12 text-center">
                    <p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;
                        <script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </p>
                </div>
            </div>

        </div>
    </footer>
    <!-- ##### Footer Area End ##### -->

    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Content/template/js/popper.min.js"></script>
    <script src="~/Content/template/js/plugins.js"></script>
    <script src="~/Content/template/js/classy-nav.min.js"></script>
    <script src="~/Content/template/js/active.js"></script>
    <script>
        function searchProd() {
            window.open("/ProductFront/ProductFrontPage?searchprod=" + $("#searchprod").val(), "_self");
        }
        $('#searchprod').keypress(function (e) {
            if (e.keyCode == 13) {
                searchProd();
            }
        })
    </script>
    @RenderSection("Scripts", false)
</body>
</html>
<script>

    $(document).ready(
        cartCount()
    )

    function cartCount() {
        xhr = new XMLHttpRequest();
        xhr.open('POST', '@Url.Action("cartTotalQuantity", "ShoppingCart")');
        xhr.send();
        xhr.addEventListener('load', function () {
            var count = xhr.responseText;
            $("#totalQuantity").text(count);
        })
    }
</script>